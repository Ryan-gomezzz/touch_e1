{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  const BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const API = `${BASE_URL}/api`;\n  async function request(path, options) {\n    const res = await fetch(`${API}${path}`, Object.assign({\n      headers: Object.assign({\n        'Content-Type': 'application/json'\n      }, options?.headers)\n    }, options));\n    if (!res.ok) {\n      const err = await res.text();\n      throw new Error(err || res.statusText);\n    }\n    return res.json();\n  }\n  const api = {\n    // Contacts\n    getContacts: (archived = false, tag) => {\n      let url = `/contacts?archived=${archived}`;\n      if (tag) url += `&tag=${tag}`;\n      return request(url);\n    },\n    getContact: id => request(`/contacts/${id}`),\n    createContact: data => request('/contacts', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    updateContact: (id, data) => request(`/contacts/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data)\n    }),\n    deleteContact: id => request(`/contacts/${id}`, {\n      method: 'DELETE'\n    }),\n    // Interactions\n    getInteractions: (contactId, limit = 20) => request(`/interactions/${contactId}?limit=${limit}`),\n    createInteraction: data => request('/interactions', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    // Voice\n    transcribeVoice: async (uri, filename) => {\n      const formData = new FormData();\n      formData.append('file', {\n        uri,\n        name: filename,\n        type: 'audio/wav'\n      });\n      const res = await fetch(`${API}/voice/transcribe`, {\n        method: 'POST',\n        body: formData\n      });\n      if (!res.ok) throw new Error('Transcription failed');\n      return res.json();\n    },\n    // AI\n    getCallPrep: contactId => request(`/ai/call-prep/${contactId}`),\n    getInsights: () => request('/ai/insights'),\n    getPrompts: (contactId, mode = 'deep') => request(`/ai/prompts/${contactId}?mode=${mode}`),\n    // Dashboard\n    getDashboard: () => request('/dashboard'),\n    // Goals\n    getGoals: (status = 'active') => request(`/goals?status=${status}`),\n    createGoal: data => request('/goals', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    updateGoal: (id, progress, status) => {\n      const params = new URLSearchParams();\n      if (progress !== undefined) params.append('progress', String(progress));\n      if (status) params.append('status', status);\n      return request(`/goals/${id}?${params}`, {\n        method: 'PUT'\n      });\n    },\n    deleteGoal: id => request(`/goals/${id}`, {\n      method: 'DELETE'\n    }),\n    // Settings\n    getSettings: () => request('/settings'),\n    updateSettings: data => request('/settings', {\n      method: 'PUT',\n      body: JSON.stringify(data)\n    }),\n    // Data\n    exportData: () => request('/data/export'),\n    deleteAllData: () => request('/data/delete-all', {\n      method: 'DELETE'\n    }),\n    // Seed\n    seed: () => request('/seed', {\n      method: 'POST'\n    })\n  };\n});","lineCount":107,"map":[[7,2,16,0,"Object"],[7,8,16,0],[7,9,16,0,"defineProperty"],[7,23,16,0],[7,24,16,0,"exports"],[7,31,16,0],[8,4,16,0,"enumerable"],[8,14,16,0],[9,4,16,0,"get"],[9,7,16,0],[9,18,16,0,"get"],[9,19,16,0],[10,6,16,0],[10,13,16,0,"api"],[10,16,16,0],[11,4,16,0],[12,2,16,0],[13,2,70,2],[13,6,70,2,"_expoVirtualEnv"],[13,21,70,2],[13,24,70,2,"require"],[13,31,70,2],[13,32,70,2,"_dependencyMap"],[13,46,70,2],[14,2,1,0],[14,8,1,6,"BASE_URL"],[14,16,1,14],[14,19,1,17,"_expoVirtualEnv"],[14,34,1,17],[14,35,1,17,"env"],[14,38,1,17],[14,39,1,17,"EXPO_PUBLIC_BACKEND_URL"],[14,62,1,17],[14,66,1,56],[14,68,1,58],[15,2,2,0],[15,8,2,6,"API"],[15,11,2,9],[15,14,2,12],[15,17,2,15,"BASE_URL"],[15,25,2,23],[15,31,2,29],[16,2,4,0],[16,17,4,15,"request"],[16,24,4,22,"request"],[16,25,4,23,"path"],[16,29,4,35],[16,31,4,37,"options"],[16,38,4,58],[16,40,4,60],[17,4,5,2],[17,10,5,8,"res"],[17,13,5,11],[17,16,5,14],[17,22,5,20,"fetch"],[17,27,5,25],[17,28,5,26],[17,31,5,29,"API"],[17,34,5,32],[17,37,5,35,"path"],[17,41,5,39],[17,43,5,41],[17,45,5,41,"Object"],[17,51,5,41],[17,52,5,41,"assign"],[17,58,5,41],[18,6,6,4,"headers"],[18,13,6,11],[18,15,6,11,"Object"],[18,21,6,11],[18,22,6,11,"assign"],[18,28,6,11],[19,8,6,15],[19,22,6,29],[19,24,6,31],[20,6,6,49],[20,9,6,55,"options"],[20,16,6,62],[20,18,6,64,"headers"],[20,25,6,71],[21,4,6,81],[21,7,7,7,"options"],[21,14,7,14],[21,15,8,3],[21,16,8,4],[22,4,9,2],[22,8,9,6],[22,9,9,7,"res"],[22,12,9,10],[22,13,9,11,"ok"],[22,15,9,13],[22,17,9,15],[23,6,10,4],[23,12,10,10,"err"],[23,15,10,13],[23,18,10,16],[23,24,10,22,"res"],[23,27,10,25],[23,28,10,26,"text"],[23,32,10,30],[23,33,10,31],[23,34,10,32],[24,6,11,4],[24,12,11,10],[24,16,11,14,"Error"],[24,21,11,19],[24,22,11,20,"err"],[24,25,11,23],[24,29,11,27,"res"],[24,32,11,30],[24,33,11,31,"statusText"],[24,43,11,41],[24,44,11,42],[25,4,12,2],[26,4,13,2],[26,11,13,9,"res"],[26,14,13,12],[26,15,13,13,"json"],[26,19,13,17],[26,20,13,18],[26,21,13,19],[27,2,14,0],[28,2,16,7],[28,8,16,13,"api"],[28,11,16,16],[28,14,16,19],[29,4,17,2],[30,4,18,2,"getContacts"],[30,15,18,13],[30,17,18,15,"getContacts"],[30,18,18,16,"archived"],[30,26,18,24],[30,29,18,27],[30,34,18,32],[30,36,18,34,"tag"],[30,39,18,46],[30,44,18,51],[31,6,19,4],[31,10,19,8,"url"],[31,13,19,11],[31,16,19,14],[31,38,19,36,"archived"],[31,46,19,44],[31,48,19,46],[32,6,20,4],[32,10,20,8,"tag"],[32,13,20,11],[32,15,20,13,"url"],[32,18,20,16],[32,22,20,20],[32,30,20,28,"tag"],[32,33,20,31],[32,35,20,33],[33,6,21,4],[33,13,21,11,"request"],[33,20,21,18],[33,21,21,19,"url"],[33,24,21,22],[33,25,21,23],[34,4,22,2],[34,5,22,3],[35,4,23,2,"getContact"],[35,14,23,12],[35,16,23,15,"id"],[35,18,23,25],[35,22,23,30,"request"],[35,29,23,37],[35,30,23,38],[35,43,23,51,"id"],[35,45,23,53],[35,47,23,55],[35,48,23,56],[36,4,24,2,"createContact"],[36,17,24,15],[36,19,24,18,"data"],[36,23,24,27],[36,27,24,32,"request"],[36,34,24,39],[36,35,24,40],[36,46,24,51],[36,48,24,53],[37,6,24,55,"method"],[37,12,24,61],[37,14,24,63],[37,20,24,69],[38,6,24,71,"body"],[38,10,24,75],[38,12,24,77,"JSON"],[38,16,24,81],[38,17,24,82,"stringify"],[38,26,24,91],[38,27,24,92,"data"],[38,31,24,96],[39,4,24,98],[39,5,24,99],[39,6,24,100],[40,4,25,2,"updateContact"],[40,17,25,15],[40,19,25,17,"updateContact"],[40,20,25,18,"id"],[40,22,25,28],[40,24,25,30,"data"],[40,28,25,39],[40,33,25,44,"request"],[40,40,25,51],[40,41,25,52],[40,54,25,65,"id"],[40,56,25,67],[40,58,25,69],[40,60,25,71],[41,6,25,73,"method"],[41,12,25,79],[41,14,25,81],[41,19,25,86],[42,6,25,88,"body"],[42,10,25,92],[42,12,25,94,"JSON"],[42,16,25,98],[42,17,25,99,"stringify"],[42,26,25,108],[42,27,25,109,"data"],[42,31,25,113],[43,4,25,115],[43,5,25,116],[43,6,25,117],[44,4,26,2,"deleteContact"],[44,17,26,15],[44,19,26,18,"id"],[44,21,26,28],[44,25,26,33,"request"],[44,32,26,40],[44,33,26,41],[44,46,26,54,"id"],[44,48,26,56],[44,50,26,58],[44,52,26,60],[45,6,26,62,"method"],[45,12,26,68],[45,14,26,70],[46,4,26,79],[46,5,26,80],[46,6,26,81],[47,4,28,2],[48,4,29,2,"getInteractions"],[48,19,29,17],[48,21,29,19,"getInteractions"],[48,22,29,20,"contactId"],[48,31,29,37],[48,33,29,39,"limit"],[48,38,29,44],[48,41,29,47],[48,43,29,49],[48,48,29,54,"request"],[48,55,29,61],[48,56,29,62],[48,73,29,79,"contactId"],[48,82,29,88],[48,92,29,98,"limit"],[48,97,29,103],[48,99,29,105],[48,100,29,106],[49,4,30,2,"createInteraction"],[49,21,30,19],[49,23,30,22,"data"],[49,27,30,31],[49,31,30,36,"request"],[49,38,30,43],[49,39,30,44],[49,54,30,59],[49,56,30,61],[50,6,30,63,"method"],[50,12,30,69],[50,14,30,71],[50,20,30,77],[51,6,30,79,"body"],[51,10,30,83],[51,12,30,85,"JSON"],[51,16,30,89],[51,17,30,90,"stringify"],[51,26,30,99],[51,27,30,100,"data"],[51,31,30,104],[52,4,30,106],[52,5,30,107],[52,6,30,108],[53,4,32,2],[54,4,33,2,"transcribeVoice"],[54,19,33,17],[54,21,33,19],[54,27,33,19,"transcribeVoice"],[54,28,33,26,"uri"],[54,31,33,37],[54,33,33,39,"filename"],[54,41,33,55],[54,46,33,60],[55,6,34,4],[55,12,34,10,"formData"],[55,20,34,18],[55,23,34,21],[55,27,34,25,"FormData"],[55,35,34,33],[55,36,34,34],[55,37,34,35],[56,6,35,4,"formData"],[56,14,35,12],[56,15,35,13,"append"],[56,21,35,19],[56,22,35,20],[56,28,35,26],[56,30,35,28],[57,8,35,30,"uri"],[57,11,35,33],[58,8,35,35,"name"],[58,12,35,39],[58,14,35,41,"filename"],[58,22,35,49],[59,8,35,51,"type"],[59,12,35,55],[59,14,35,57],[60,6,35,69],[60,7,35,77],[60,8,35,78],[61,6,36,4],[61,12,36,10,"res"],[61,15,36,13],[61,18,36,16],[61,24,36,22,"fetch"],[61,29,36,27],[61,30,36,28],[61,33,36,31,"API"],[61,36,36,34],[61,55,36,53],[61,57,36,55],[62,8,36,57,"method"],[62,14,36,63],[62,16,36,65],[62,22,36,71],[63,8,36,73,"body"],[63,12,36,77],[63,14,36,79,"formData"],[64,6,36,88],[64,7,36,89],[64,8,36,90],[65,6,37,4],[65,10,37,8],[65,11,37,9,"res"],[65,14,37,12],[65,15,37,13,"ok"],[65,17,37,15],[65,19,37,17],[65,25,37,23],[65,29,37,27,"Error"],[65,34,37,32],[65,35,37,33],[65,57,37,55],[65,58,37,56],[66,6,38,4],[66,13,38,11,"res"],[66,16,38,14],[66,17,38,15,"json"],[66,21,38,19],[66,22,38,20],[66,23,38,21],[67,4,39,2],[67,5,39,3],[68,4,41,2],[69,4,42,2,"getCallPrep"],[69,15,42,13],[69,17,42,16,"contactId"],[69,26,42,33],[69,30,42,38,"request"],[69,37,42,45],[69,38,42,46],[69,55,42,63,"contactId"],[69,64,42,72],[69,66,42,74],[69,67,42,75],[70,4,43,2,"getInsights"],[70,15,43,13],[70,17,43,15,"getInsights"],[70,18,43,15],[70,23,43,21,"request"],[70,30,43,28],[70,31,43,29],[70,45,43,43],[70,46,43,44],[71,4,44,2,"getPrompts"],[71,14,44,12],[71,16,44,14,"getPrompts"],[71,17,44,15,"contactId"],[71,26,44,32],[71,28,44,34,"mode"],[71,32,44,38],[71,35,44,41],[71,41,44,47],[71,46,44,52,"request"],[71,53,44,59],[71,54,44,60],[71,69,44,75,"contactId"],[71,78,44,84],[71,87,44,93,"mode"],[71,91,44,97],[71,93,44,99],[71,94,44,100],[72,4,46,2],[73,4,47,2,"getDashboard"],[73,16,47,14],[73,18,47,16,"getDashboard"],[73,19,47,16],[73,24,47,22,"request"],[73,31,47,29],[73,32,47,30],[73,44,47,42],[73,45,47,43],[74,4,49,2],[75,4,50,2,"getGoals"],[75,12,50,10],[75,14,50,12,"getGoals"],[75,15,50,13,"status"],[75,21,50,19],[75,24,50,22],[75,32,50,30],[75,37,50,35,"request"],[75,44,50,42],[75,45,50,43],[75,62,50,60,"status"],[75,68,50,66],[75,70,50,68],[75,71,50,69],[76,4,51,2,"createGoal"],[76,14,51,12],[76,16,51,15,"data"],[76,20,51,24],[76,24,51,29,"request"],[76,31,51,36],[76,32,51,37],[76,40,51,45],[76,42,51,47],[77,6,51,49,"method"],[77,12,51,55],[77,14,51,57],[77,20,51,63],[78,6,51,65,"body"],[78,10,51,69],[78,12,51,71,"JSON"],[78,16,51,75],[78,17,51,76,"stringify"],[78,26,51,85],[78,27,51,86,"data"],[78,31,51,90],[79,4,51,92],[79,5,51,93],[79,6,51,94],[80,4,52,2,"updateGoal"],[80,14,52,12],[80,16,52,14,"updateGoal"],[80,17,52,15,"id"],[80,19,52,25],[80,21,52,27,"progress"],[80,29,52,44],[80,31,52,46,"status"],[80,37,52,61],[80,42,52,66],[81,6,53,4],[81,12,53,10,"params"],[81,18,53,16],[81,21,53,19],[81,25,53,23,"URLSearchParams"],[81,40,53,38],[81,41,53,39],[81,42,53,40],[82,6,54,4],[82,10,54,8,"progress"],[82,18,54,16],[82,23,54,21,"undefined"],[82,32,54,30],[82,34,54,32,"params"],[82,40,54,38],[82,41,54,39,"append"],[82,47,54,45],[82,48,54,46],[82,58,54,56],[82,60,54,58,"String"],[82,66,54,64],[82,67,54,65,"progress"],[82,75,54,73],[82,76,54,74],[82,77,54,75],[83,6,55,4],[83,10,55,8,"status"],[83,16,55,14],[83,18,55,16,"params"],[83,24,55,22],[83,25,55,23,"append"],[83,31,55,29],[83,32,55,30],[83,40,55,38],[83,42,55,40,"status"],[83,48,55,46],[83,49,55,47],[84,6,56,4],[84,13,56,11,"request"],[84,20,56,18],[84,21,56,19],[84,31,56,29,"id"],[84,33,56,31],[84,37,56,35,"params"],[84,43,56,41],[84,45,56,43],[84,47,56,45],[85,8,56,47,"method"],[85,14,56,53],[85,16,56,55],[86,6,56,61],[86,7,56,62],[86,8,56,63],[87,4,57,2],[87,5,57,3],[88,4,58,2,"deleteGoal"],[88,14,58,12],[88,16,58,15,"id"],[88,18,58,25],[88,22,58,30,"request"],[88,29,58,37],[88,30,58,38],[88,40,58,48,"id"],[88,42,58,50],[88,44,58,52],[88,46,58,54],[89,6,58,56,"method"],[89,12,58,62],[89,14,58,64],[90,4,58,73],[90,5,58,74],[90,6,58,75],[91,4,60,2],[92,4,61,2,"getSettings"],[92,15,61,13],[92,17,61,15,"getSettings"],[92,18,61,15],[92,23,61,21,"request"],[92,30,61,28],[92,31,61,29],[92,42,61,40],[92,43,61,41],[93,4,62,2,"updateSettings"],[93,18,62,16],[93,20,62,19,"data"],[93,24,62,28],[93,28,62,33,"request"],[93,35,62,40],[93,36,62,41],[93,47,62,52],[93,49,62,54],[94,6,62,56,"method"],[94,12,62,62],[94,14,62,64],[94,19,62,69],[95,6,62,71,"body"],[95,10,62,75],[95,12,62,77,"JSON"],[95,16,62,81],[95,17,62,82,"stringify"],[95,26,62,91],[95,27,62,92,"data"],[95,31,62,96],[96,4,62,98],[96,5,62,99],[96,6,62,100],[97,4,64,2],[98,4,65,2,"exportData"],[98,14,65,12],[98,16,65,14,"exportData"],[98,17,65,14],[98,22,65,20,"request"],[98,29,65,27],[98,30,65,28],[98,44,65,42],[98,45,65,43],[99,4,66,2,"deleteAllData"],[99,17,66,15],[99,19,66,17,"deleteAllData"],[99,20,66,17],[99,25,66,23,"request"],[99,32,66,30],[99,33,66,31],[99,51,66,49],[99,53,66,51],[100,6,66,53,"method"],[100,12,66,59],[100,14,66,61],[101,4,66,70],[101,5,66,71],[101,6,66,72],[102,4,68,2],[103,4,69,2,"seed"],[103,8,69,6],[103,10,69,8,"seed"],[103,11,69,8],[103,16,69,14,"request"],[103,23,69,21],[103,24,69,22],[103,31,69,29],[103,33,69,31],[104,6,69,33,"method"],[104,12,69,39],[104,14,69,41],[105,4,69,48],[105,5,69,49],[106,2,70,0],[106,3,70,1],[107,0,70,2],[107,3]],"functionMap":{"names":["<global>","request","getContacts","getContact","createContact","updateContact","deleteContact","getInteractions","createInteraction","transcribeVoice","getCallPrep","getInsights","getPrompts","getDashboard","getGoals","createGoal","updateGoal","deleteGoal","getSettings","updateSettings","exportData","deleteAllData","seed"],"mappings":"AAA;ACG;CDU;eEI;GFI;cGC,0CH;iBIC,mFJ;iBKC,oGL;iBMC,gEN;mBOG,uFP;qBQC,uFR;mBSG;GTM;eUG,4DV;eWC,6BX;cYC,sFZ;gBaG,2Bb;YcG,yDd;ceC,gFf;cgBC;GhBK;ciBC,6DjB;ekBG,0BlB;kBmBC,kFnB;coBG,6BpB;iBqBC,uDrB;QsBG,0CtB"},"hasCjsExports":false},"type":"js/module"}]}